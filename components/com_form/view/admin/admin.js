/* $Id: admin.js 171 2009-08-10 12:18:12Z  $ */
var bfBase64={_0:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b="";var c,d,e,f,g,h,j;var i=0;while(i<a.length){c=a.charCodeAt(i++);d=a.charCodeAt(i++);e=a.charCodeAt(i++);f=c>>2;g=((c&3)<<4)|(d>>4);h=((d&15)<<2)|(e>>6);j=e&63;if(isNaN(d)){h=j=64}else if(isNaN(e)){j=64}b=b+this._0.charAt(f)+this._0.charAt(g)+this._0.charAt(h)+this._0.charAt(j)}return b}};var bf_form_admin={_1:function(a){return xajax.call(this.bfAdminHandler(),{parameters:a})},bfAdminHandler:function(){return'bf_com_bfform_AdminHandler'},createNewForm:function(){var a=jQuery('input#form_title').val();var b=jQuery('input[name=template]:checked').val();var c=['xadmin_createform',a,b];return this._1(c)},createNewField:function(){var a=jQuery('input#title').val();var b=jQuery('input[name=template]:checked').val();if(typeof b=='undefined'){alert('You must choose a field to add!');return false}if(a===''){alert('Please give this field a unique short name!');return false}var c=['xadmin_createfield',a,b];return this._1(c)},createNewAction:function(){var a=jQuery('input#title').val();var b=jQuery('input[name=template]:checked').val();var c=['xadmin_createaction',a,b];return this._1(c)},validateFieldSlug:function(){var a=jQuery('input#slug').val();var b=['xadmin_validatefieldslug',a];return this._1(b)},applyFilterSubmission:function(){var a=xajax.getFormValues('adminForm');jQuery('#bftoolbar').toggle();jQuery('#bf_optionsbox').toggle();jQuery('#bf_pagenav_table').toggle();jQuery('#indexTableHTML').toggle();var b=['xadmin_setsubmissionfilter',a];return this._1(b)},sendTestEmail:function(){jQuery('#results').html('');jQuery('#gpgresults').html('');var a=jQuery('input#_2').val();var b=['xadmin_sendtestemail',a];return this._1(b)},sendTestEmailGPG:function(){jQuery('#gpgresults').html('');jQuery('#results').html('');var a=jQuery('input#_3').val();var b=jQuery('#gpgpublickey').val();var c=['xadmin_sendtestemail',a,b];return this._1(c)},checkFileUploadWritable:function(){var a=jQuery('#fileupload_destdir').val();var b=['xadmin_checkfileuploadfolder',a];return this._1(b)},generateEmailContents:function(){var a=['xadmin_generateEmailContents'];return this._1(a)},createCustomForm:function(){var a=['xadmin_generateBasicFormLayout'];return this._1(a)},parseCustomForm:function(){var a=jQuery('#custom_smarty').val();h=bfBase64.encode(a);var b=['xadmin_parseCustomForm',h];return this._1(b)},parseSalesForcew2lfields:function(){var a=jQuery('#custom5').val();h=bfBase64.encode(a);var b=['xadmin_parseCustomSalesForceForm',h];this._1(b);return false}};function bfHandler(a,b){var c=[a,b];return bf_form_admin._1(c)}function getbfHandler(a){return bf_form_admin.bfAdminHandler()}
